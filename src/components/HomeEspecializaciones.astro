---
import cursos from "../../public/api/cursos.json";

const cursosFiltrados = cursos.filter(
   (curso) => curso.tag === "especializacion",
);
---

<section class="section">
   <div class="container is-fullhd">
      <div class="title-wrapper has-text-centered">
         <h2 class="title">Tambi√©n puedes especializarte</h2>
      </div>

      <div class="content-wrapper">
         <!-- Start Carousel -->
         <div class="especial-carousel">
            {
               cursosFiltrados.map((item) => (
                  <div class="item-carousel">
                     <figure class="image">
                        <a href={item.url}>
                           <img
                              src={`/img/portadas/${item.slug}.webp`}
                              alt="/"
                           />
                        </a>
                     </figure>
                  </div>
               ))
            }
         </div>
         <!-- End Carousel Services -->
      </div>
   </div>
</section>

<script>
   import Flickity from "flickity";

   document.addEventListener("astro:page-load", () => {
      let flkty = new Flickity(".especial-carousel", {
         draggable: true,
         contain: true,
         freeScroll: true,
         wrapAround: true,
         pageDots: false,
      });
   });
</script>

<style>
   .image img {
      border-radius: 6px;
   }

   .item-carousel {
      width: 100%;
      margin-right: 20px;
      margin-bottom: 20px;
   }

   @media screen and (min-width: 768px) and (max-width: 1344px) {
      .item-carousel {
         width: 33%;
      }
   }
   @media screen and (min-width: 1344px) {
      .item-carousel {
         width: 25%;
      }
   }
</style>
